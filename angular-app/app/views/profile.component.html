<header class='row header-row text-center'>
    <div class=' col-md-3 col-lg-3 text-center'>
        <a routerLink='/articles' class='root-link'> <h3> ITBlog </h3> </a>
    </div>

    <div class='col-md-6 col-lg-6 title'>
        <i> Welcome to your profile </i>
    </div>

    <div class='col-md-3 col-lg-2 text-center link-container'>
        <a class='dropdown-toggle cursor-pointer' type='button' data-toggle='dropdown'> 
            Hello, {{ user.Login }} 
            <span class='caret'></span>
        </a>

        <ul class="dropdown-menu">
            <li> <a class='cursor-pointer' routerLink='/profile'> Profile </a> </li>
            <li> <a class="cursor-pointer" (click) = 'logOut()'> Exit </a> </li>
        </ul>
    </div>
</header>

<main class='cur-data-container row'>

    <div class="col-lg-4">
        <img [src]='baseUrl + user.ImageSrc' class="img-circle float-right" width="220" height="150" />
    </div>

    <div class="col-lg-4 text-center text-container" >
        <h4> 
            Your's profile data
        </h4>
        <div class="row text-center">
            Login <i> {{ user.Login }} </i>
        </div>

        <div class="row text-center">
            Email - <i> {{ user.Email }} </i>
        </div>

    </div>

    <div class="col-lg-4" >
        <button type="button" (click)='mode = PROFILE;' 
            [class]='mode== PROFILE ? "btn btn-link active" : "btn btn-link"'>
            Edit personal information
        </button>
        <button type='button' [class]='mode== ARTICLES ? "btn btn-link active" : "btn btn-link"' 
        (click) = 'mode = ARTICLES;'>
            Edit articles
        </button>
        <button type='button' [class]='mode== EDIT_ARTICLES ? "btn btn-link active" : "btn btn-link"' 
        (click) = 'mode = EDIT_ARTICLES'>
            New article
        </button>
    </div>

</main>

<main class="article-container" [hidden] = 'mode != ARTICLES'>

    <div class="row text-center article-header">
        Working with articles on site
    </div>

    <div class="container">
        <div class="row article-header-row">
            <div class="col-lg-6 text-left color-red article-title">
                Title
            </div>
            <div class="col-lg-6 text-right color-red">
                #tag1 #tag2 #tag3
            </div>
        </div>
        <div class="row article-container-row">
            <div class="col-lg-3 padding-top-20">
                <img src='../../images/ava.png' class="img-rounded float-right" width='250' height='200' />
            </div>
            <div class="col-lg-9 article-content">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
    Nullam non aliquam risus, vitae finibus lectus. Sed consectetur justo diam, suscipit rhoncus dolor eleifend quis. 
    consectetur pulvinar metus in imperdiet. Maecenas vel nunc nec tortor ultrices ultrices. Aenean tempor venenatis mi, 
    in luctus lorem bibendum vel. Nam diam nunc, commodo quis lobortis sed, sagittis id tellus. Quisque quis tortor pharetra 
    sapien auctor molestie id non arcu. Aenean a egestas arcu. Quisque gravida ante tincidunt consectetur molestie.
    Nullam ut diam lectus. Ut eu euismod massa. Maecenas aliquam venenatis turpis nec fermentum. Nullam viverra interdum sem 
    quis hendrerit. Mauris velit mi, mattis vel massa non, faucibus eleifend eros. Pellentesque molestie in ligula ut venenatis.
            </div>
        </div>
        <div class="row text-center">
            <div class="btn edit-btn"> 
                <a class='color-red'> Edit article </a>
                <a class='color-red'> Delete article </a>
            </div>

        </div>
    </div>

    <div class="container">
        <div class="row article-header-row">
            <div class="col-lg-6 text-left color-red article-title">
                Title
            </div>
            <div class="col-lg-6 text-right color-red">
                #tag1 #tag2 #tag3
            </div>
        </div>
        <div class="row article-container-row">
            <div class="col-lg-3">
                <img src='../../images/ava.png' class="img-rounded float-right" width='250' height='200' />
            </div>
            <div class="col-lg-9 article-content">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
    Nullam non aliquam risus, vitae finibus lectus. Sed consectetur justo diam, suscipit rhoncus dolor eleifend quis. 
    consectetur pulvinar metus in imperdiet. Maecenas vel nunc nec tortor ultrices ultrices. Aenean tempor venenatis mi, 
    in luctus lorem bibendum vel. Nam diam nunc, commodo quis lobortis sed, sagittis id tellus. Quisque quis tortor pharetra 
    sapien auctor molestie id non arcu. Aenean a egestas arcu. Quisque gravida ante tincidunt consectetur molestie.
    Nullam ut diam lectus. Ut eu euismod massa. Maecenas aliquam venenatis turpis nec fermentum. Nullam viverra interdum sem 
    quis hendrerit. Mauris velit mi, mattis vel massa non, faucibus eleifend eros. Pellentesque molestie in ligula ut venenatis.
            </div>
        </div>
        <div class="row text-center">
            <div class="btn edit-btn"> 
                <a class='color-red'> Edit article </a>
                <a class='color-red'> Delete article </a>
            </div>

        </div>
    </div>

</main>

<main class='edit-container' [hidden] = 'mode != EDIT_ARTICLES'>
    <form (ngSubmit)='onArticleSubmit()' #articleForm='ngForm'>
        <div class="row text-center form-header">
            Write new article
        </div>
        <div class="col-lg-8">
            <div class="row border-underline">
                <label class="col-lg-2 text-right">
                    Title 
                </label>

                <input type='text' class="form-control col-lg-10" required [(ngModel)] = 'article.Title' name='title' 
                    #title='ngModel' />
            
                <div [class]='!title.touched || title.valid ? "display-none" : "error"' > Title required </div>
            </div>
            <div class="row border-underline">
                <label class="col-lg-2 text-right">
                    Article image
                </label>
            
                <input type='file' class="form-control col-lg-10" (change)='onImageChanged($event)' />

                <div [class]=' image != undefined  ? "display-none" : "error"' > Image required </div>
            </div>
            <div class="row border-underline">
                <label class="col-lg-2 text-right">
                    Article text
                </label>
                <textarea rows='10' class="form-control" required name='text' [(ngModel)] ='article.Text' #text='ngModel'>
                </textarea>
                <div [class]='!text.touched || text.valid  ? "display-none" : "error margin-left-40 "' > 
                    Article required 
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <h4 class='text-center'> Tags </h4>

            <div class='tag-container'>
                <a *ngFor='let tag of tags' (click)='addTag(tag)'
                    [class] = 'selectedTags.indexOf(tag) != -1 ? "tag-link active" : "tag-link" '>
                    {{ tag.Tag }}
                </a>
            </div>

            <div class='pagination-container' 
                [hidden] = 'tagEnumerable != null && !tagEnumerable.canMoveBack() && ! tagEnumerable.canMoveNext() '>
                <a class='pagination-left' [hidden]='tagEnumerable != null && !tagEnumerable.canMoveBack()'
                    (click)='this.tags = tagEnumerable.Previous();' >
                    <span class='glyphicon glyphicon-chevron-left'> </span> 
                </a>
                <a class='pagination-home'
                    (click)='this.tags = tagEnumerable.Reset()'>
                    <span class='glyphicon glyphicon-home'> </span> 
                </a>
                <a class='pagination-right' [hidden]='tagEnumerable != null && !tagEnumerable.canMoveNext()'
                    (click)='this.tags = tagEnumerable.Next();'>
                    <span class='glyphicon glyphicon-chevron-right'> </span> 
                </a>
            </div> 

        </div>
        <div class="col-lg-12 row text-center">
            <input type='submit' class="btn btn-success" value='Publish' 
                [disabled] ='!articleForm.form.valid || image == undefined'/>
        </div>
    </form>
</main>

<main class='text-center' [hidden] = 'mode != PROFILE'>
    currently working on this functionality ( editing profile )
</main>

<footer class="col-lg-12">
    2016 by Swirchkov Wladymir & Grynko Alina & Kovalenko Ekaterina 
</footer>